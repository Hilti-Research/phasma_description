<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from /home/mcamurri/catkin_ws/src/drs_extra/phasma_description/urdf/phasma.urdf.xacro | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="phasma">
  <link name="base"/>
  <joint name="base_to_alphasense" type="fixed">
    <origin rpy="0 0 0" xyz="-65.210e-3 -0.109e-3 177.0e-3"/>
    <parent link="base"/>
    <child link="alphasense_mount"/>
  </joint>
  <link name="alphasense_mount">
    <visual>
      <geometry>
        <mesh filename="package://alphasense_description/urdf/meshes/alphasense_simplified.dae"/>
      </geometry>
    </visual>
    <!-- TODO fix these inertial stuff -->
    <inertial>
      <origin rpy="0 0 0" xzy="0 0 0"/>
      <mass value="0.5"/>
      <inertia ixx="3.545e-4" ixy="6.051e-10" ixz="-3.736e-7" iyy="3.554e-4" iyz="-2.919e-9" izz="3.627e-4"/>
    </inertial>
  </link>
  <link name="imu_link">
    <visual>
      <geometry>
        <box size="3e-3 2e-3 1e-3"/>
      </geometry>
      <material name="black">
        <color rgba="0 0 0 1"/>
      </material>
    </visual>
  </link>
  <joint name="imu_joint" type="fixed">
    <origin rpy="3.141592653589793 0 0" xyz="6e-3 -8.55e-3 17.4e-3"/>
    <parent link="alphasense_mount"/>
    <child link="imu_link"/>
  </joint>
  <link name="cam_front_left">
    <visual>
      <geometry>
        <box size="1e-3 1e-3 1e-3"/>
      </geometry>
      <material name="black">
        <color rgba="0 0 0 1"/>
      </material>
    </visual>
  </link>
  <link name="cam_front_right">
    <visual>
      <geometry>
        <box size="1e-3 1e-3 1e-3"/>
      </geometry>
      <material name="black">
        <color rgba="0 0 0 1"/>
      </material>
    </visual>
  </link>
  <link name="cam_side_right">
    <visual>
      <geometry>
        <box size="1e-3 1e-3 1e-3"/>
      </geometry>
      <material name="black">
        <color rgba="0 0 0 1"/>
      </material>
    </visual>
  </link>
  <link name="cam_side_left">
    <visual>
      <geometry>
        <box size="1e-3 1e-3 1e-3"/>
      </geometry>
      <material name="black">
        <color rgba="0 0 0 1"/>
      </material>
    </visual>
  </link>
  <!-- front right camera which is cam0 in alphasense driver -->
  <joint name="front_right_cam_joint" type="fixed">
    <origin rpy="1.5708 0.0043 1.5675 " xyz="0.0438 0.0485 -0.0109"/>
    <parent link="imu_link"/>
    <child link="cam_front_right"/>
  </joint>
  <!-- front left camera which is cam1 in alphasense driver -->
  <joint name="front_left_cam_joint" type="fixed">
    <origin rpy=" 1.5715 -0.0042 1.5712 " xyz="0.0437 -0.0611 -0.0115"/>
    <parent link="imu_link"/>
    <child link="cam_front_left"/>
  </joint>
  <!-- top camera which is cam2 in alphasense driver, haven't calibrated yet -->
  <!-- side right camera which is cam3 in alphasense driver -->
  <joint name="side_right_cam_joint" type="fixed">
    <origin rpy="1.5691 -0.0061 3.1334" xyz="-0.006 0.062 -0.0105"/>
    <parent link="imu_link"/>
    <child link="cam_side_right"/>
  </joint>
  <!-- side left camera which is cam4 in alphasense driver -->
  <joint name="side_left_cam_joint" type="fixed">
    <origin rpy="1.5733 0.00443 -0.0052" xyz="-0.00789 -0.07720 -0.01356"/>
    <parent link="imu_link"/>
    <child link="cam_side_left"/>
  </joint>
  <link name="body">
    <visual>
      <geometry>
        <mesh filename="package://phasma_description/urdf/meshes/phasma_body.dae"/>
      </geometry>
    </visual>
  </link>
  <joint name="body_to_base_mount" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="base"/>
    <child link="body"/>
  </joint>
  <joint name="base_to_hesai" type="fixed">
    <origin rpy="0 0 0" xyz="-59.957e-3 0.015e-3 93.0e-3"/>
    <parent link="base"/>
    <child link="hesai_base"/>
  </joint>
  <link name="hesai_base">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <!-- If mesh is not available: -->
      <!--origin xyz="0 0 38.0e-3" rpy="0 0 0" /-->
      <geometry>
        <!-- If mesh is not available: -->
        <!--cylinder radius="51.500e-3" length="76.0e-3" /-->
        <mesh filename="package://hesai_description/urdf/meshes/PandarXT_Model.dae"/>
      </geometry>
    </visual>
    <inertial>
      <!-- CoM taken from CAD assuming constant density and mass 0.807 (best approximation available to real mass) -->
      <origin rpy="0 0 0" xyz="-0.015e-3 0.0 37.494e-3"/>
      <!-- mass taken from Hesai datasheet -->
      <mass value="0.807"/>
      <!-- Inertia tensor from CAD assuming constant density and mass 0.807 (best approximation vailable to real mass) -->
      <inertia ixx="886.81e-6" ixy="5.802e-11" ixz="-0.34e-6" iyy="898.12e-6" iyz="-0.014e-6" izz="1004.287e-6"/>
    </inertial>
    <collision>
      <origin xyz="0 0 38.0e-3"/>
      <geometry>
        <cylinder length="76.0e-3" radius="51.500e-3"/>
      </geometry>
    </collision>
  </link>
  <link name="hesai_origin"/>
  <joint name="hesai_base_to_origin" type="fixed">
    <!-- See page 12 of User Manual -->
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 46.4e-3"/>
    <parent link="hesai_base"/>
    <child link="hesai_origin"/>
  </joint>
  <!-- TODO implement gazebo plugin loading if simulation is true -->
</robot>
